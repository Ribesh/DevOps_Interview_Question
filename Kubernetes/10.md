# What is Headless Service in Kubernetes and when to use it?

-   In K8, headless service is a service type of kubernetes services which you create when you define `clusterIP: None`

    -   Unlike traditional services, Headless Service does not load balance the requests between the pods, but it enables DNS A record for each pod replica.
        -   So that one pod can talk to the other pod using DNS A record name


```bash
apiVersion: v1
kind: Service
metadata:
    name: myapp-headless
spec:
    clusterIP : None
    selector:
        app: myapp
    ports:
        - ports: 80 
```


-   Example:
    -   Imagine there is a backend pod and there are 3 replicas of databases
        -   When we use a traditional service, it will do load balancing among the replicas
    -   Say, this backend pod makes two **concurrent** requests to the DB
        -   First, update a new Employee in the employee table
        -   Second, complete the details of the employees

    -   Imagine, the first request is send to Pod A
        -   New employee is updated
    -   What if the second query is send to Pod B
        -   The employee that was created is not updated

    -   Whenever a pod is dealing with databases or stateful applications
        -   it needs to be associated with a single replica of a pod

    -   So each replica of the backend service should be associated with a specific DB instance 